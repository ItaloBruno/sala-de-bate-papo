<Gerenciador>
    InterfaceUsuario:
        name: 'tela_principal'

    HistoricoUsuario:
        name: 'historico_usuario'

    HistoricoTopico:
        name: 'historico_topico'

<InterfaceUsuario>:
    BoxLayout:
        id: tela_servidor
        orientation: 'vertical'

        ActionBar:
            ActionView:
                ActionPrevious:
                    id: menu_tela_principal
                    title: 'tela inicial'
                ActionButton:
                    text: 'sair'
                    on_release: app.stop()

        BoxLayout:
            id: grid_usuarios
            orientation: 'horizontal'

            BoxLayout:
                id: box_usuarios
                orientation: 'vertical'
                # spacing: 10

                Label:
                    id: label_usuarios
                    text: 'Lista de usuários'
                    font_size: 20

                ScrollView:
                    id: scroll_usuarios

                    BoxLayout:
                        id: lista_usuarios
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height

        BoxLayout:
            id: grid_topicos
            orientation: 'horizontal'

            BoxLayout:
                id: box_topicos
                orientation: 'vertical'
                # spacing: 10

                Label:
                    id: label_topicos
                    text: 'Lista de tópicos'
                    font_size: 20

                ScrollView:
                    id: scroll_topicos

                    BoxLayout:
                        id: lista_topicos
                        orientation: 'vertical'
                        size_hint_y: None
                        height: self.minimum_height

<HistoricoUsuario>
    BoxLayout:
        orientation: 'vertical'
        ActionBar:
            ActionView:
                ActionPrevious:
                    id: nome_usuario
                    title: 'usuário'
                    on_release: app.root.current = 'tela_principal'
                ActionButton:
                    text: 'sair'
                    on_release: app.stop()
        TextInput:
            id: historico_do_usuario
            text: "histórico do usuário"

        BoxLayout:
            id: grid_historico_usuario
            orientation: 'vertical'
            size_hint_y: None
            height: 100

            BoxLayout:
                id: grid_mensagem_usuario
                orientation: 'horizontal'

                TextInput:
                    id: mensagem_usuario
                    text: 'Digite algo...'
                    font_size: 15

                Button:
                    id: botao_enviar_mensagem_usuario
                    text: 'Enviar'
                    size_hint_x: None
                    width: 100
                    font_size: 15
                    on_release: app.enviar_mensagem_usuario(root.ids.mensagem_usuario.text, root.ids.nome_usuario.title)

<HistoricoTopico>
    BoxLayout:
        orientation: 'vertical'

        ActionBar:
            ActionView:
                ActionPrevious:
                    id: nome_topico
                    title: 'tópico'
                    on_release: app.root.current = 'tela_principal'
                
                ActionButton:
                    text: 'assinar tópico'
                    on_release: app.assinar_topico(root.ids.nome_topico.title)
                
                ActionButton:
                    text: 'sair'
                    on_release: app.stop()
                

        TextInput:
            id: historico_do_topico
            text: "histórico do topico"

        BoxLayout:
            id: grid_historico_topico
            orientation: 'vertical'
            size_hint_y: None
            height: 100

            BoxLayout:
                id: grid_mensagem_topico
                orientation: 'horizontal'

                TextInput:
                    id: mensagem_topico
                    text: 'Digite algo...'
                    font_size: 15

                Button:
                    id: botao_enviar_mensagem_topico
                    text: 'Enviar'
                    size_hint_x: None
                    width: 100
                    font_size: 15
                    on_release: app.enviar_mensagem_topico(root.ids.mensagem_topico.text, root.ids.nome_topico.title)

<Usuario>
    id: usuario
    size_hint_y: None
    height: 100
    font_size: 20
    on_release: app.mostrar_historico_usuario(root.text)

<Topico>
    id: topico
    size_hint_y: None
    height: 100
    font_size: 20
    on_release: app.mostrar_historico_topico(root.text)

